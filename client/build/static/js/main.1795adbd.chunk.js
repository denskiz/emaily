(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{119:function(e,t,c){},121:function(e,t,c){},122:function(e,t,c){},229:function(e,t,c){},230:function(e,t,c){"use strict";c.r(t);var s={};c.r(s),c.d(s,"fetchUser",(function(){return y})),c.d(s,"handleToken",(function(){return N})),c.d(s,"fetchSurveys",(function(){return g})),c.d(s,"submitSurvey",(function(){return S})),c.d(s,"formData",(function(){return w}));var n=c(1),r=c.n(n),a=c(39),i=c.n(a),l=c(10),j=c(25),d=c(85),o=c(15),b=c(6),u=c(5),h=c.n(u),x=c(9),O=c(28),m=c.n(O),v="fetch_user",f="fetch_surveys",p="form_data",y=function(){return function(){var e=Object(x.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/api/current_user");case 2:c=e.sent,t({type:v,payload:c.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(x.a)(h.a.mark((function t(c){var s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.post("/api/stripe",e);case 2:s=t.sent,c({type:v,payload:s.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(){return function(){var e=Object(x.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/api/surveys");case 2:c=e.sent,t({type:f,payload:c.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(x.a)(h.a.mark((function t(c){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m.a.post("/api/surveys",e).then((function(e){c({type:v,payload:e.data}),alert("Survey has been sent")})).catch((function(e){403===e.request.status?alert("You do not have enough credits to send a survey"):console.log(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return{type:p,payload:e}},k=c.p+"static/media/google.bce8d3d6.svg",C=(c(119),c(0));var D=Object(l.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.auth;return Object(C.jsx)("nav",{className:"navbar navbar-light bg-light",children:Object(C.jsxs)("div",{className:"container-fluid container",children:[Object(C.jsxs)(o.b,{to:t?"/surveys":"/",className:"navbar-brand",children:[Object(C.jsx)("i",{className:"bi bi-envelope"}),"  ","Emaily"]}),function(){switch(t){case null:return;case!1:return Object(C.jsx)("li",{style:{listStyle:"none"},className:"nav-item",children:Object(C.jsxs)("a",{href:"/auth/google",className:"login-container",children:[Object(C.jsx)("img",{className:"google",src:k,alt:"Google"}),Object(C.jsx)("p",{className:"login",children:"Login with Google"})]})});default:return Object(C.jsxs)("ul",{className:"nav justify-content-end",children:[Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)(o.b,{to:"/credits",className:"nav-link",children:"Credits"})},"1"),Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)(o.b,{to:"/surveys",className:"nav-link",children:"Surveys"})},"2"),Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)("a",{href:"/api/logout",className:"nav-link",children:"Logout"})},"3")]})}}()]})})})),E=(c(121),function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"container text-center ",children:[Object(C.jsx)("div",{className:"wrapper",children:Object(C.jsxs)("div",{className:"hero",children:[Object(C.jsx)("h1",{className:"text-center",children:"Emaily"}),Object(C.jsx)("h3",{children:"Get Feedback from your users faster"})]})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"row justify-content-center",children:Object(C.jsx)("div",{className:"col-6 ",children:Object(C.jsxs)("ul",{className:"list-group",children:[Object(C.jsx)("li",{className:"list-group-item",children:Object(C.jsx)("h2",{children:"Instructions"})}),Object(C.jsx)("li",{className:"list-group-item",children:"Purchase Credits to create Surveys"}),Object(C.jsx)("li",{className:"list-group-item",children:"Create Surveys with a title and a question"}),Object(C.jsx)("li",{className:"list-group-item",children:"Enter a comma-separated list of the recipient email addresses."}),Object(C.jsx)("li",{className:"list-group-item",children:"Send the survey and await feedback. Each emailer campaign's response tally can be monitored in your user dashboard."})]})})})]}),Object(C.jsx)("h4",{className:"text-center",children:"Tech Stack"}),Object(C.jsx)("p",{className:"text-center",children:"This app was built with:"})]})}),T=(c(122),c(12)),_=function(e){var t=e.surveys,c=e.onDetailsClick;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("h5",{className:"text-center bold",children:["Displaying ",t.length," ",t.length>1?"Surveys":"Survey"]}),Object(C.jsxs)("table",{className:"table table-striped",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col",children:"Title"}),Object(C.jsx)("th",{scope:"col",className:"hide-on-small-only",children:"Subject"}),Object(C.jsx)("th",{scope:"col",children:"Date Created"}),Object(C.jsx)("th",{})]})}),Object(C.jsx)("tbody",{children:Object(C.jsx)(C.Fragment,{children:t.length>0?t.map((function(e){return Object(C.jsxs)("tr",{id:e._id,children:[Object(C.jsx)("td",{children:e.title}),Object(C.jsx)("td",{className:"hide-on-small-only",children:e.subject}),Object(C.jsx)("td",{children:new Date(e.dateSent).toLocaleDateString()}),Object(C.jsx)("td",{children:Object(C.jsx)("button",{className:"btn btn-info",onClick:function(e){c(e.target.parentNode.parentNode.id)},children:"Details"})})]},e._id)})):Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"No Surveys Available"}),Object(C.jsx)("td",{}),Object(C.jsx)("td",{})]})})})]})]})},q=c(90),F=function(e){var t=e.onReturnClick,c=e.currentSurvey;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("section",{className:"section section-posts grey lighten-4",children:Object(C.jsx)("div",{className:"container",children:Object(C.jsx)("div",{className:"row",children:Object(C.jsx)("div",{className:"col s12",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsxs)("div",{className:"card-header",children:[Object(C.jsx)("div",{children:"Survey Details"}),Object(C.jsxs)("div",{className:"text-end",children:["Posted On: ","",new Date(c.dateSent).toLocaleDateString()," "]})]}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-md-10",children:Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsx)("h5",{className:"card-title",children:"Title"}),Object(C.jsx)("p",{className:"card-text",children:c.title}),Object(C.jsx)("h5",{className:"card-title",children:"Subject"}),Object(C.jsx)("p",{className:"card-text",children:c.subject}),Object(C.jsx)("h5",{className:"card-title",children:"Body"}),Object(C.jsx)("p",{className:"card-text",children:c.body}),Object(C.jsx)("button",{className:"btn btn-primary",onClick:function(e){t()},children:"Return"})]})}),Object(C.jsx)("div",{className:"col-md-2",children:c.yes||c.no?Object(C.jsx)(q.a,{data:{labels:["Yes","No"],datasets:[{label:"Survey Responses",data:[c.yes,c.no],backgroundColor:["rgba(0, 200, 83, 0.8)","rgba(213, 0, 0, 0.8)"]}]},options:{title:{display:!0,text:"Survey Results ",fontSize:25},legend:{display:!0,position:"bottom"}}}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("label",{children:"Survey Results"}),Object(C.jsx)("p",{children:"No Results available"})]})})]})]})})})})})})};c(229);var L=Object(l.b)((function(e){return{surveys:e.surveys}}),{fetchSurveys:g})((function(e){var t=e.fetchSurveys,c=e.surveys,s=Object(n.useState)({showSurveyDetail:!1,surveyId:""}),r=Object(T.a)(s,2),a=r[0],i=r[1];return Object(n.useEffect)((function(){t()}),[t]),Object(C.jsx)("div",{children:Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)("h4",{className:"text-center",children:"Surveys"}),Object(C.jsxs)("p",{className:"text-center",children:["Create and Track all your Surveys here.",Object(C.jsx)("br",{}),"To create a new Survey, click on the red New Survey Button on the bottom right of your screen."]})]}),a.showSurveyDetail?Object(C.jsx)(F,{currentSurvey:(a.surveyId,c.find((function(e){if(e._id===a.surveyId)return[e]}))),onReturnClick:function(){return i({showSurveyDetail:!1,surveyId:""})}}):Object(C.jsx)(_,{onDetailsClick:function(e){return i({showSurveyDetail:!0,surveyId:e})},surveys:c})]})})})),P=function(){return Object(C.jsxs)("div",{children:[Object(C.jsx)(L,{}),Object(C.jsx)("div",{className:"fixed-action-btn",children:Object(C.jsx)(o.b,{to:"/surveys/new",className:"btn btn-danger",children:Object(C.jsx)("div",{children:"New Survey"})})})]})},R=c(14),I=c(88),A=/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,Y=function(e){return!e.split(",").map((function(e){return e.trim()})).filter((function(e){return!1===A.test(e)})).length},B=Object(l.b)((function(e){return{PreviousformData:e.formData}}),{formData:w})((function(e){var t,c,s,n,r=e.onSurveySubmit,a=e.formData,i=e.PreviousformData,l=Object(I.a)({mode:"onBlur",defaultValues:i}),j=l.register,d=l.handleSubmit,b=l.formState.errors;return Object(C.jsxs)("form",{onSubmit:d((function(e){r(),a(e)})),children:[Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{for:"title",className:"form-label",children:"Survey Title"}),Object(C.jsx)("input",Object(R.a)({type:"text",id:"title",className:"form-control"},j("title",{required:!0}))),Object(C.jsx)("div",{style:{color:"red"},children:"required"===(null===(t=b.title)||void 0===t?void 0:t.type)&&"You must provide a survey title"})]}),Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{for:"subject",className:"form-label",children:"Subject Line"}),Object(C.jsx)("input",Object(R.a)({type:"text",id:"subject",className:"form-control"},j("subject",{required:!0}))),Object(C.jsx)("div",{style:{color:"red"},children:"required"===(null===(c=b.subject)||void 0===c?void 0:c.type)&&"You must provide a subject line"})]}),Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{for:"body",className:"form-label",children:"Email Body"}),Object(C.jsx)("input",Object(R.a)({type:"text",id:"body",className:"form-control"},j("body",{required:!0}))),Object(C.jsx)("div",{style:{color:"red"},children:"required"===(null===(s=b.body)||void 0===s?void 0:s.type)&&"You must provide a email body"})]}),Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{for:"recipients",className:"form-label",children:"Recipient Email List"}),Object(C.jsx)("input",Object(R.a)({type:"text",id:"recipients",className:"form-control"},j("recipients",{validate:Y}))),Object(C.jsx)("div",{id:"emailHelp",className:"form-text",children:"Each email must be seperated by a comma ,"}),Object(C.jsx)("div",{style:{color:"red"},children:"validate"===(null===(n=b.recipients)||void 0===n?void 0:n.type)&&"These emails are invalid"})]}),Object(C.jsxs)(o.b,{className:"btn btn-danger",to:"/surveys",children:[Object(C.jsx)("i",{className:"bi bi-x-lg"}),"  ","Cancel"]}),Object(C.jsxs)("button",{type:"submit",className:"btn btn-success float-end",children:[Object(C.jsx)("i",{className:"bi bi-chevron-right"}),"  ","Next"]})]})})),V=Object(l.b)((function(e){return{formValues:e.formData}}),s)((function(e){var t=e.onCancel,c=e.formValues,s=e.submitSurvey;return Object(C.jsxs)("div",{children:[Object(C.jsx)("h5",{children:"Please confirm your entries"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{className:"form-text",children:"Survey Title"}),Object(C.jsx)("div",{children:c.title})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{className:"form-text",children:"Subject Line"}),Object(C.jsx)("div",{children:c.subject})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{className:"form-text",children:"Email Body"}),Object(C.jsx)("div",{children:c.body})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{className:"form-text",children:"Recipient Email List"}),Object(C.jsx)("div",{children:c.recipients})]}),Object(C.jsx)("br",{}),Object(C.jsxs)("button",{onClick:t,className:"btn btn-danger",children:[Object(C.jsx)("span",{className:"btn-label",children:Object(C.jsx)("i",{className:"bi bi-arrow-90deg-left"})}),"  ","Back"]}),Object(C.jsxs)(o.b,{className:"btn btn-success float-end",onClick:function(){return s(c)},to:"/",children:[Object(C.jsx)("i",{className:"bi bi-envelope-fill"})," ","  ","Send Survey"]})]})})),z=function(){var e=Object(n.useState)(!1),t=Object(T.a)(e,2),c=t[0],s=t[1];return Object(C.jsx)("div",{className:"row justify-content-md-center",children:Object(C.jsxs)("div",{className:"col-6",children:[Object(C.jsx)("h1",{className:"text-center",children:"Create New Survey"}),Object(C.jsx)("p",{className:"text-center",children:c?"Please review the following entries":"Please fill out the following entries"}),c?Object(C.jsx)(V,{onCancel:function(){return s(!1)}}):Object(C.jsx)(B,{onSurveySubmit:function(){return s(!0)}}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{})]})})},J=c(89),M=c.n(J),Z=Object(l.b)(null,s)((function(e){return Object(C.jsx)(M.a,{name:"Emaily",description:"$5 for 5 email credits",amount:500,token:function(t){return e.handleToken(t)},stripeKey:"pk_test_wd6JOemZHTRKYwKJiobuPppm",children:Object(C.jsx)("button",{className:"btn btn-primary",children:"Add Credits"})})}));var G=Object(l.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.auth;return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"alert alert-info",role:"alert",children:"Purchase credits which are required to create new Surveys."}),Object(C.jsx)("section",{className:"section",children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col s12 m8",children:Object(C.jsx)("div",{className:"card",children:Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsx)("h5",{className:"card-title",children:"Quick Info"}),Object(C.jsx)("p",{className:"card-text",children:"This is a demo version of the application. Therefore we don't accept any REAL financial information."}),Object(C.jsx)("p",{className:"card-text",children:"To purchase Credits click on the Add Credits button and enter the following details :"}),Object(C.jsxs)("ul",{children:[Object(C.jsx)("li",{children:Object(C.jsx)("blockquote",{children:"Email: Your Email"})}),Object(C.jsx)("li",{children:Object(C.jsx)("blockquote",{children:"Card Number: 4242 4242 4242 4242"})}),Object(C.jsx)("li",{children:Object(C.jsx)("blockquote",{children:"Card Exp (MM/YY): Any Valid Date"})}),Object(C.jsx)("li",{children:Object(C.jsx)("blockquote",{children:"CVV: Any 3 digit number"})})]}),Object(C.jsx)("p",{children:Object(C.jsx)("b",{children:"Note: We do not store your personal/financial information."})})]})})}),Object(C.jsx)("div",{className:"col s12 m4",children:Object(C.jsx)("div",{className:"card",children:Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsx)("h5",{className:"card-title",children:"Credit Info"}),Object(C.jsx)("blockquote",{children:Object(C.jsxs)("b",{children:["Available Credits : ",t?Object(C.jsx)("span",{children:t.credits}):Object(C.jsx)("span",{children:"None"})]})}),Object(C.jsx)("a",{className:"btn btn-primary",children:Object(C.jsx)(Z,{})})]})})})]})})]})})})),K=Object(l.b)(null,s)((function(e){return Object(n.useEffect)((function(){e.fetchUser()})),Object(C.jsxs)(o.a,{basename:"/",children:[Object(C.jsx)(D,{}),Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)("br",{}),Object(C.jsxs)(b.c,{children:[Object(C.jsx)(b.a,{path:"/card",element:Object(C.jsx)(Z,{})}),Object(C.jsx)(b.a,{path:"/",element:Object(C.jsx)(E,{})}),Object(C.jsx)(b.a,{path:"/credits",element:Object(C.jsx)(G,{})}),Object(C.jsx)(b.a,{path:"/surveys",element:Object(C.jsx)(P,{})}),Object(C.jsx)(b.a,{path:"/surveys/new",element:Object(C.jsx)(z,{})})]})]})]})})),U=Object(j.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return t.payload||!1;default:return e}},formData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return t.payload;default:return e}},surveys:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.payload;default:return e}}}),$=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,231)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),s(e),n(e),r(e),a(e)}))},H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||j.c,X=Object(j.d)(U,{},H(Object(j.a)(d.a)));i.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(l.a,{store:X,children:Object(C.jsx)(K,{})})}),document.getElementById("root")),$()}},[[230,1,2]]]);
//# sourceMappingURL=main.1795adbd.chunk.js.map